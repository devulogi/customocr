version: '3.8'

services:
  ocr-dev:
    build:
      context: ..
      dockerfile: .devcontainer/Dockerfile
    volumes:
      - ..:/workspace:cached
      - type: bind
        source: /var/run/docker.sock
        target: /var/run/docker-host.sock
        bind:
          create_host_path: false
    command: sleep infinity
    restart: unless-stopped
    environment:
      - PYTHONPATH=/workspace
      - OPENCV_LOG_LEVEL=ERROR
    ports:
      - "8000:8000"
    working_dir: /workspace